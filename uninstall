#!/usr/bin/env bash
if [[ $1 ]]; then
    if [[ $1 == "bin" ]]; then
        rm -rf ~/.clv/bin
        echo "clv has uninstalled $1 successfully!"
    else
        COMMANDS=( "$@" )
        for COMMAND in "${COMMANDS[@]}"; do
            rm -rf ~/.clv/bin/"$COMMAND"
            echo "clv has uninstalled $COMMAND command successfully!"
        done
    fi
else
    mv ~/.clv/home ~/.clv.home.bak
    rm -rf ~/.clv
    echo "clv has been fully uninstalled successfully!"
fi

if [[ ! -e ~/.clv/bin ]] && [[ -e ~/.bash_profile ]] && grep -q "#ADDED BY CLV INSTALLER#" ~/.bash_profile; then
    sed -i.bak '/#ADDED BY CLV INSTALLER#/d' ~/.bash_profile
fi